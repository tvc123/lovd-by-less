<script type="text/javascript" language="JavaScript">
jQuery(document).ready(function()
{
    jQuery("#user_login").blur(function()
    {
        //check the username exists or not from ajax
        jQuery.post('<%=is_login_available_users_url%>',{ user_login:$(this).val() } ,function(data)
        {
        	jQuery("#availibility").html(data);    
        }); 
    });
		
		jQuery(".text-field").focus(function()
		{
			jQuery(".active").removeClass("active");
			jQuery(".text-field-help").css("display", "none");
			jQuery("#" + this.id + "-help").show();
			jQuery("#" + this.id + "-container").addClass("active");
		});
		
		jQuery("#user_login").keydown(function() { 
			jQuery("#availibility").html(''); 
		});
		
		jQuery(".text-field-help").css("display", "none");
});
</script>

<div id="login_form">
	
	<% form_for :user, :url => users_path, :html => {:id => "register"} do |f| -%>
	
    <h1><%= "Sign-up Now" %></h1>
    <div class="instruction">Welcome to <%= SITE_NAME %></div>
    <div class="instruction"><p>Already a member? <a href="<%=login_url%>">Sign in now</a></p></div>
		<%= error_messages_for :user -%>		

		<div class="row">
			<label for="user_login">Choose a Member Name<em>*</em></label>
			<%= f.text_field :login, {  :class => "text-field" } -%><span id="availibility"></span>
		</div>
		    
		<div class="row">
			<label for="user_email">Email Address <em>*</em></label>
	 		<%= f.text_field :email, {  :class => "text-field" } -%>
		</div>

		<div class="row">
			<label for="user_password">Password <em>*</em></label>		
			<%= f.password_field :password, {  :class => "text-field" } -%>
		</div>
		
		<div class="row">
			<label for="user_password_confirmation">Confirm Password <em>*</em></label>
			<%= f.password_field :password_confirmation, {  :class => "text-field" } -%>
		</div>

		<div class="row">
			<label for="user_city">City <em>*</em></label>
	 		<%= f.text_field :city, {  :class => "text-field" } -%>
		</div>

		<div class="row">
			<label for="user_state">State <em>*</em></label>
	 		<%= f.select :state, @states %>
		</div>

		<div class="row">
			<label for="user_zip">Postal Code <em>*</em></label>
	 		<%= f.text_field :zip, {  :class => "text-field" } -%>
		</div>
		
		<div class="row">
			<label for="user_country">Country <em>*</em></label>
	 		<%= f.select :country, @countries %>
		</div>
		
		<div class="row">
			<label for="user_organization">School District / University / Company: <em>*</em></label>
	 		<%= f.text_field :organization, {  :class => "text-field" } -%>
		</div>
    
		<div class="row">
			<label for="user_grade_experience">Grade Level Experience <em>*</em></label>
	 		<%= select_tag('grade_level_experiences[]', options_for_select(@grade_level_experiences),{:multiple => true, :size =>5} ) -%>
		</div>
                
    <div class="row">
			<label for="user_phone">Phone </label>
	 		<%= f.text_field :phone, {  :class => "text-field" } -%>
		</div>
    
    <div class="row">
			<label for="user_phone2">Phone 2 </label>
	 		<%= f.text_field :phone2, {  :class => "text-field" } -%>
		</div>

		<div class="row">
			<label for="user_first_language">First Language </label>
	 		<%= f.select :first_language, @languages %>
		</div>

		<div class="row">
			<label for="user_language">Other Language(s)</label>
	 		<%= select_tag('other_languages[]', options_for_select(@languages),{:multiple => true, :size =>5} ) -%>
		</div>
                
		<div class="row">
			<label for="user_why_joined"> A few words on why you joined TWB</label>
	 		<%= f.text_area :why_joined, {  :class => "text-area" } -%>
		</div>
                
		<div class="row">
			<label for="user_skills"> Additional Skills & Interests</label>
	 		<%= f.text_area :skills, {  :class => "text-area" } -%>
		</div>

		<div class="row">
			<label for="user_occupation"> Occupation</label>
	 		<%= f.text_area :occupation, {  :class => "text-area" } -%>
		</div>

		<div class="row">
			<label for="user_aim_name">AOL Instant messenger </label>
	 		<%= f.text_field :aim_name, {  :class => "text-field" } -%>
		</div>

		<div class="row">
			<label for="user_msn">MSN messenger </label>
	 		<%= f.text_field :msn, {  :class => "text-field" } -%>
		</div>

		<div class="row">
			<label for="user_skype">Skype </label>
	 		<%= f.text_field :skype, {  :class => "text-field" } -%>
		</div>

		<div class="row">
			<label for="user_yahoo">Yahoo! Messenger </label>
	 		<%= f.text_field :yahoo, {  :class => "text-field" } -%>
		</div>

		<div class="row">
			<%= f.check_box :terms_of_service -%>
			<label for="notify">I agree to the <a href="<%=tos_url%>" target="_blank">Terms and Conditions</a></label>																																						
		</div>

	  <div class="button">
	  	<%= f.submit 'Sign-up Now', :class => 'button' %>
	  </div>
	
	<% end %>
</div>