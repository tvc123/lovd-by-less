<script type="text/javascript" language="JavaScript">
$(document).ready(function()
{
    $("#user_login").blur(function()
    {
        //check the username exists or not from ajax
        $.post("is_login_available",{ user_login:$(this).val() } ,function(data)
        {
        	$("#availibility").html(data);    
        }); 
    });
		
		$(".text-field").focus(function()
		{
			$(".active").removeClass("active");
			$(".text-field-help").css("display", "none");
			$("#" + this.id + "-help").show();
			$("#" + this.id + "-container").addClass("active");
		});
		
		$("#user_login").keydown(function() { 
			$("#availibility").html(''); 
		});
		
		$(".text-field-help").css("display", "none");
});
</script>

<div id="login_form">
	
	<% form_for :user, :url => users_path, :html => {:id => "register"} do |f| -%>
	
    <h1><%= "Sign-up Now" %></h1>
    <div class="instruction">Welcome to <%= SITE_NAME %>, we are currently in private beta.</div>
    <div class="instruction"><p>Already a member? <a href="<%=login_url%>">Sign in now</a></p></div>
		<%= error_messages_for :user -%>		

		<div class="row">
			<label for="user_login">Choose a Member Name<em>*</em></label>
			<%= f.text_field :login, { :tabindex => "1", :class => "text-field" } -%><span id="availibility"></span>
		</div>
		    
		<div class="row">
			<label for="user_email">Email Address <em>*</em></label>
	 		<%= f.text_field :email, { :tabindex => "2", :class => "text-field" } -%>
		</div>

		<div class="row">
			<label for="user_password">Password <em>*</em></label>		
			<%= f.password_field :password, { :tabindex => "3", :class => "text-field" } -%>
		</div>
		
		<div class="row">
			<label for="user_password_confirmation">Confirm Password <em>*</em></label>
			<%= f.password_field :password_confirmation, { :tabindex => "4", :class => "text-field" } -%>
		</div>
		
		<div class="row">
			<%= f.check_box :terms_of_service, { :tabindex => "7" } -%>
			<label for="notify">I agree to the <a href="<%=tos_url%>" target="_blank">Terms and Conditions</a></label>																																						
		</div>

	  <div class="button">
	  	<%= f.submit 'Sign-up Now', :class => 'button' %>
	  </div>
	
	<% end %>
</div>